{
	"nodes":[
		{"id":"node_feishu","type":"text","text":"**é£ä¹¦å¤šç»´è¡¨æ ¼ (Feishu Base)**\n*(Headless CMS)*\n\n**è§’è‰²**: å”¯ä¸€æ•°æ®æº (Single Source of Truth)\n**èŒè´£**: \n- è¿è¥äººå‘˜å½•å…¥æ•…äº‹ä¸ä¸Šä¼ å›¾ç‰‡\n- çŠ¶æ€ç®¡ç† (Draft/Published)\n- æä¾› API è®¿é—®æƒé™","x":-1000,"y":-280,"width":300,"height":200,"color":"1"},
		{"id":"node_oss","type":"text","text":"**é˜¿é‡Œäº‘ OSS**\n*(Asset Storage)*\n\n**èŒè´£**: \n- å­˜å‚¨é«˜æ¸…åˆæˆå¤§å›¾\n- å­˜å‚¨å¤„ç†åçš„ WebP èµ„æº\n- å‡è½» Git ä»“åº“ä½“ç§¯å‹åŠ›","x":-1000,"y":340,"width":300,"height":220,"color":"2"},
		{"id":"node_script","type":"text","text":"**ETL åŒæ­¥å¼•æ“**\n`scripts/sync-feishu.ts`\n\n**æ ¸å¿ƒé€»è¾‘ (Build Time)**:\n1. **Fetch**: æ‹‰å–é£ä¹¦â€œå·²å‘å¸ƒâ€è®°å½•\n2. **Process**: ä¸‹è½½å›¾ç‰‡ -> MD5å“ˆå¸Œå»é‡ -> ä¸Šä¼  OSS\n3. **Transform**: æ¸…æ´—æ•°æ®ç»“æ„ -> ç”Ÿæˆ `LocationPoint[]`\n4. **Write**: ç”Ÿæˆé™æ€ JSON","x":-640,"y":-40,"width":320,"height":300,"color":"3"},
		{"id":"node_json","type":"text","text":"**é™æ€æ•°æ®æ ¸å¿ƒ**\n`src/data/content.json`\n\n**è§’è‰²**: è¿è¡Œæ—¶æ•°æ®åº“\n**ç‰¹æ€§**: \n- åŒ…å«äº†æ‰€æœ‰åœ°ç‚¹ã€æ•…äº‹ã€OSSé“¾æ¥\n- éšå‰ç«¯ä»£ç æ‰“åŒ…éƒ¨ç½² (SSG)\n- **é›¶ API å»¶è¿Ÿ**","x":-240,"y":10,"width":280,"height":180,"color":"4"},
		{"id":"node_store","type":"text","text":"**å…¨å±€çŠ¶æ€ç®¡ç† (Zustand)**\n`src/lib/store.ts`\n\n**State**:\n- `isEnvelopeOpened`: ä¿¡å°å¼€å¯çŠ¶æ€\n- `selectedLocationId`: å½“å‰é€‰ä¸­åœ°ç‚¹\n- `currentStoryIndex`: æ•…äº‹ç¿»é¡µç´¢å¼•","x":-240,"y":500,"width":280,"height":300,"color":"5"},
		{"id":"node_envelope","type":"text","text":"**âš¡ å¼€åœºä¿¡å° (Shared)**\n`EnvelopeIntro.tsx`\n\n**è§†è§‰**: æ‹Ÿç‰©åŒ–ä¿¡å° + ç«æ¼†å°åŠ¨ç”»\n**äº¤äº’**: ç‚¹å‡» -> çŠ¶æ€å˜æ›´ -> å¸è½½ç»„ä»¶","x":260,"y":560,"width":300,"height":150,"color":"6"},
		{"id":"node_desktop_modal","type":"text","text":"**PCç«¯: æ˜ä¿¡ç‰‡æ¨¡æ€æ¡†**\n`desktop/PostcardModal.tsx`\n\n**å¸ƒå±€**: å·¦å›¾å³æ–‡ (ç”»å·æ„Ÿ)\n**ç»„ä»¶**: åŒ…å« `StampSwitcher`\n**æ•°æ®**: ä» Store è¯»å–é€‰ä¸­ ID","x":1140,"y":-200,"width":300,"height":200,"color":"5"},
		{"id":"node_mobile_detail","type":"text","text":"**ç§»åŠ¨ç«¯: æ²‰æµ¸è¯¦æƒ…é¡µ**\n`mobile/MobileDetailModal.tsx`\n\n**å¸ƒå±€**: ä¸Šå›¾ä¸‹æ–‡ (ç«–å±ä¼˜åŒ–)\n**äº¤äº’**: å·¦å³æ»‘åŠ¨åˆ‡æ¢æ•…äº‹\n**æ‰‹åŠ¿**: ä¸‹æ‹‰å…³é—­ (Pull-to-close)","x":1140,"y":200,"width":300,"height":200,"color":"4"},
		{"id":"node_mobile_feed","type":"text","text":"**ğŸ“± ç§»åŠ¨ç«¯: æ•…äº‹ç€‘å¸ƒæµ**\n`mobile/StoryFeed.tsx`\n\n**å¸ƒå±€**: åŒåˆ—/å•åˆ—å¡ç‰‡æµ\n**äº¤äº’**: ç‚¹å‡»å¡ç‰‡ -> å…±äº«å…ƒç´ è½¬åœº\n**ç»„ä»¶**: åŒ…å« `MapFAB` (æ‚¬æµ®åœ°å›¾æŒ‰é’®)","x":680,"y":200,"width":300,"height":200,"color":"4"},
		{"id":"node_desktop_map","type":"text","text":"**ğŸ–¥ï¸ PCç«¯: äº¤äº’åœ°å›¾**\n`desktop/InteractiveMap.tsx`\n\n**æ ¸å¿ƒ**: SVG åº•å›¾æ¸²æŸ“\n**äº¤äº’**: \n- Hover åŠ¨ç”»\n- ç‚¹å‡» Pin ç‚¹ -> è§¦å‘ Modal\n- æ¶ˆè´¹ `content.json` æ•°æ®","x":700,"y":-200,"width":300,"height":200,"color":"5"},
		{"id":"node_entry","type":"text","text":"**åº”ç”¨ä¸»å…¥å£**\n`src/app/page.tsx`\n\n**èŒè´£**: \n- **å“åº”å¼åˆ†æµ**: æ£€æµ‹ `useMediaQuery`\n- **æŒ‚è½½**: æ ¹æ®è®¾å¤‡æ¸²æŸ“ Desktop æˆ– Mobile æ ¹ç»„ä»¶\n- **åˆå§‹åŒ–**: åŠ è½½ `EnvelopeIntro`","x":260,"y":40,"width":300,"height":200,"color":"6"}
	],
	"edges":[
		{"id":"edge_feishu_script","fromNode":"node_feishu","fromSide":"right","toNode":"node_script","toSide":"left","label":"API æ•°æ®æ‹‰å–"},
		{"id":"edge_oss_script","fromNode":"node_script","fromSide":"bottom","toNode":"node_oss","toSide":"top","label":"ä¸Šä¼ å¤„ç†åçš„å›¾ç‰‡"},
		{"id":"edge_script_json","fromNode":"node_script","fromSide":"right","toNode":"node_json","toSide":"left","label":"ç”Ÿæˆ"},
		{"id":"edge_json_entry","fromNode":"node_json","fromSide":"right","toNode":"node_entry","toSide":"left","label":"Hydration (æ³¨å…¥æ•°æ®)"},
		{"id":"edge_store_entry","fromNode":"node_store","fromSide":"top","toNode":"node_entry","toSide":"bottom","label":"æ§åˆ¶ UI çŠ¶æ€"},
		{"id":"edge_entry_envelope","fromNode":"node_entry","fromSide":"bottom","toNode":"node_envelope","toSide":"top","label":"æ¡ä»¶æ¸²æŸ“ (isEnvelopeOpened=false)"},
		{"id":"edge_entry_desktop","fromNode":"node_entry","fromSide":"right","toNode":"node_desktop_map","toSide":"left","label":"IF Desktop"},
		{"id":"edge_entry_mobile","fromNode":"node_entry","fromSide":"right","toNode":"node_mobile_feed","toSide":"left","label":"IF Mobile"},
		{"id":"edge_desktop_map_modal","fromNode":"node_desktop_map","fromSide":"right","toNode":"node_desktop_modal","toSide":"left","label":"setSelectedLocation"},
		{"id":"edge_mobile_feed_detail","fromNode":"node_mobile_feed","fromSide":"right","toNode":"node_mobile_detail","toSide":"left","label":"Navigation / Transition"},
		{"id":"edge_json_desktop","fromNode":"node_json","fromSide":"right","toNode":"node_desktop_map","toSide":"left","color":"4","label":"Reads"},
		{"id":"edge_json_mobile","fromNode":"node_json","fromSide":"right","toNode":"node_mobile_feed","toSide":"left","color":"4","label":"Reads"}
	]
}